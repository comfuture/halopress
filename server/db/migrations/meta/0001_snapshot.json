{
  "version": "6",
  "dialect": "sqlite",
  "id": "6076f00a-1b2d-42fb-b02f-c6fe2df5c1dc",
  "prevId": "49461040-a01e-4694-97df-88df6e076aa5",
  "tables": {
    "asset": {
      "name": "asset",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "kind": {
          "name": "kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "object_key": {
          "name": "object_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sha256": {
          "name": "sha256",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_asset_created_at": {
          "name": "idx_asset_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content": {
      "name": "content",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "schema_version": {
          "name": "schema_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "extra_json": {
          "name": "extra_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_content_schema_updated": {
          "name": "idx_content_schema_updated",
          "columns": [
            "schema_key",
            "updated_at"
          ],
          "isUnique": false
        },
        "idx_content_status": {
          "name": "idx_content_status",
          "columns": [
            "schema_key",
            "status",
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_date_data": {
      "name": "content_date_data",
      "columns": {
        "content_id": {
          "name": "content_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_id": {
          "name": "field_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_filter_content_date_data": {
          "name": "idx_filter_content_date_data",
          "columns": [
            "field_id",
            "value",
            "content_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_date_data_content_id_field_id_pk": {
          "columns": [
            "content_id",
            "field_id"
          ],
          "name": "content_date_data_content_id_field_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_fields": {
      "name": "content_fields",
      "columns": {
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_id": {
          "name": "field_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_key": {
          "name": "field_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "kind": {
          "name": "kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "search_mode": {
          "name": "search_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'off'"
        },
        "filterable": {
          "name": "filterable",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "sortable": {
          "name": "sortable",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        }
      },
      "indexes": {
        "idx_content_fields_schema": {
          "name": "idx_content_fields_schema",
          "columns": [
            "schema_key"
          ],
          "isUnique": false
        },
        "idx_content_fields_key": {
          "name": "idx_content_fields_key",
          "columns": [
            "schema_key",
            "field_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_fields_schema_key_field_id_pk": {
          "columns": [
            "schema_key",
            "field_id"
          ],
          "name": "content_fields_schema_key_field_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_items": {
      "name": "content_items",
      "columns": {
        "content_id": {
          "name": "content_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "schema_version": {
          "name": "schema_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_content_items_schema_updated": {
          "name": "idx_content_items_schema_updated",
          "columns": [
            "schema_key",
            "updated_at"
          ],
          "isUnique": false
        },
        "idx_content_items_status": {
          "name": "idx_content_items_status",
          "columns": [
            "schema_key",
            "status",
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_number_data": {
      "name": "content_number_data",
      "columns": {
        "content_id": {
          "name": "content_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_id": {
          "name": "field_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_filter_content_number_data": {
          "name": "idx_filter_content_number_data",
          "columns": [
            "field_id",
            "value",
            "content_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_number_data_content_id_field_id_pk": {
          "columns": [
            "content_id",
            "field_id"
          ],
          "name": "content_number_data_content_id_field_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_ref": {
      "name": "content_ref",
      "columns": {
        "content_id": {
          "name": "content_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_path": {
          "name": "field_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "target_kind": {
          "name": "target_kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "target_schema_key": {
          "name": "target_schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "target_id": {
          "name": "target_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_content_ref_target": {
          "name": "idx_content_ref_target",
          "columns": [
            "target_kind",
            "target_id"
          ],
          "isUnique": false
        },
        "idx_content_ref_content": {
          "name": "idx_content_ref_content",
          "columns": [
            "content_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_ref_content_id_field_path_target_kind_target_id_pk": {
          "columns": [
            "content_id",
            "field_path",
            "target_kind",
            "target_id"
          ],
          "name": "content_ref_content_id_field_path_target_kind_target_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_ref_list": {
      "name": "content_ref_list",
      "columns": {
        "owner_content_id": {
          "name": "owner_content_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_key": {
          "name": "field_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "item_kind": {
          "name": "item_kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "item_schema_key": {
          "name": "item_schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "item_id": {
          "name": "item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "meta_json": {
          "name": "meta_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_content_ref_list_owner": {
          "name": "idx_content_ref_list_owner",
          "columns": [
            "owner_content_id",
            "field_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_ref_list_owner_content_id_field_key_position_pk": {
          "columns": [
            "owner_content_id",
            "field_key",
            "position"
          ],
          "name": "content_ref_list_owner_content_id_field_key_position_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "content_string_data": {
      "name": "content_string_data",
      "columns": {
        "content_id": {
          "name": "content_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_id": {
          "name": "field_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_filter_content_string_data": {
          "name": "idx_filter_content_string_data",
          "columns": [
            "field_id",
            "value",
            "content_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "content_string_data_content_id_field_id_pk": {
          "columns": [
            "content_id",
            "field_id"
          ],
          "name": "content_string_data_content_id_field_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schema": {
      "name": "schema",
      "columns": {
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ast_json": {
          "name": "ast_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "json_schema": {
          "name": "json_schema",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ui_schema": {
          "name": "ui_schema",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "registry_json": {
          "name": "registry_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "diff_json": {
          "name": "diff_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_schema_created_at": {
          "name": "idx_schema_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "schema_schema_key_version_pk": {
          "columns": [
            "schema_key",
            "version"
          ],
          "name": "schema_schema_key_version_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schema_active": {
      "name": "schema_active",
      "columns": {
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "active_version": {
          "name": "active_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schema_draft": {
      "name": "schema_draft",
      "columns": {
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ast_json": {
          "name": "ast_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "locked_by": {
          "name": "locked_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lock_expires_at": {
          "name": "lock_expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schema_role": {
      "name": "schema_role",
      "columns": {
        "schema_key": {
          "name": "schema_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role_key": {
          "name": "role_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "can_read": {
          "name": "can_read",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "can_write": {
          "name": "can_write",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "can_admin": {
          "name": "can_admin",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        }
      },
      "indexes": {
        "idx_schema_role_schema": {
          "name": "idx_schema_role_schema",
          "columns": [
            "schema_key"
          ],
          "isUnique": false
        },
        "idx_schema_role_role": {
          "name": "idx_schema_role_role",
          "columns": [
            "role_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "schema_role_role_key_user_role_role_key_fk": {
          "name": "schema_role_role_key_user_role_role_key_fk",
          "tableFrom": "schema_role",
          "tableTo": "user_role",
          "columnsFrom": [
            "role_key"
          ],
          "columnsTo": [
            "role_key"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "schema_role_schema_key_role_key_pk": {
          "columns": [
            "schema_key",
            "role_key"
          ],
          "name": "schema_role_schema_key_role_key_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user": {
      "name": "user",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role_key": {
          "name": "role_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "password_salt": {
          "name": "password_salt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_user_email": {
          "name": "idx_user_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_role_key_user_role_role_key_fk": {
          "name": "user_role_key_user_role_role_key_fk",
          "tableFrom": "user",
          "tableTo": "user_role",
          "columnsFrom": [
            "role_key"
          ],
          "columnsTo": [
            "role_key"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_role": {
      "name": "user_role",
      "columns": {
        "role_key": {
          "name": "role_key",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 50
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}